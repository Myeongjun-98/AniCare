<html lang="ko"
      layout:decorate="~{fragment/default}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block layout:fragment="css"></th:block>
    <th:block layout:fragment="script"></th:block>
</head>
<div id="main" layout:fragment="main">
    <div class="board-detail-wrap">  <!-- ▼ 게시글 상세보기 ▼ -->
        <div>       <!-- 게시글 영역 -->
            <form enctype="multipart/form-data"
                  method="post"
                  th:action="@{/medical/uploadClinicDiary}"
                  th:object="${ClinicDiarySetDto}">

                <input th:name="${_csrf.parameterName}" th:value="${_csrf.token}" type="hidden">

                <div><!--  게시글 정보영역  -->
                    <div>
                        <h3>진료수첩</h3>
                    </div>
                    <div>
                        <input placeholder="제목을 입력해주세요." th:field="*{boardTitle}" type="text"></input>
                        <div th:errors="*{boardTitle}"
                             th:if="${#fields.hasErrors('boardTitle')}"></div>
                        <br>
                        <input max="2025-12-31" placeholder="날짜 선택"
                               th:field="*{clinicDiaryRecordDate}" type="date"></input>
                        <div th:errors="*{clinicDiaryRecordDate}"
                             th:if="${#fields.hasErrors('clinicDiaryRecordDate')}"></div>
                    </div>

                    <div>
                        <select th:field="*{status}">
                            <option disabled selected value="">반려동물 상태를 선택해주세요.</option>
                            <!--                            <option data-type="판정" value="판정">판정</option>-->
                            <!--                            <option data-type="투병중" value="투병중">투병중</option>-->
                            <!--                            <option data-type="완치" value="완치">완치</option>-->
                            <!--                            <option data-type="기타" value="기타">기타</option>-->
                            <option th:each="st : ${T(com.AniCare.demo.constant.medical.PetStatus).values()}"
                                    th:text="${st}"
                                    th:value="${st}">상태
                            </option>
                        </select>
                        <p class="fieldError" style="color:red;" th:errors="*{status}"
                           th:if="${#fields.hasErrors('status')}"></p>
                    </div>
                </div>

                <div>          <!-- 내용 -->
                    <!-- 임시 첨부파일 input -->
                    <div class="mb-3" th:each="num : ${#numbers.sequence(1,5)}">
                        <label class="form-label" th:for="${'files' + num}" th:text="파일+${num}">첨부파일</label>
                        <input class="form-control" th:field="*{files}" th:id="${'files' + num}">
                    </div>
                    <!-- 임시 방편 첨부파일 input ???-->
                    <textarea th:field="*{boardContent}"></textarea>
                </div>

                <button type="submit">저장</button>
            </form>
        </div> <!-- ▲ 게시글 ▲ -->
    </div>
</div>

</html>
